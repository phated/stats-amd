/*
  Licensed under the MIT License (https://github.com/phated/stats-amd/LICENSE)

  CoffeeScript Rewrite: Phated (blaine@iceddev.com)
  AMD Package: Phated (blaine@iceddev.com)

  Original Author: Mr.doob (http://mrdoob.com/)
*/define([],function(){var a;return a=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;k=0,l=2,j=0,t=Date.now(),u=t,v=t,c=0,h=1e3,g=0,d=[[16,16,48],[0,255,255]],m=0,r=1e3,q=0,n=[[16,48,16],[0,255,0]],b=document.createElement("div"),b.style.cursor="pointer",b.style.width="80px",b.style.opacity="0.9",b.style.zIndex="10001",b.addEventListener("mousedown",function(a){return a.preventDefault(),k=(k+1)%l,k===0?(e.style.display="block",o.style.display="none"):(e.style.display="none",o.style.display="block")},!1),e=document.createElement("div"),e.style.textAlign="left",e.style.lineHeight="1.2em",e.style.backgroundColor="rgb("+Math.floor(d[0][0]/2)+", "+Math.floor(d[0][1]/2)+", "+Math.floor(d[0][2]/2)+")",e.style.padding="0 0 3px 3px",b.appendChild(e),i=document.createElement("div"),i.style.fontFamily="Helvetica, Arial, sans-serif",i.style.fontSize="9px",i.style.color="rgb("+d[1][0]+", "+d[1][1]+", "+d[1][2]+")",i.style.fontWeight="bold",i.innerHTML="FPS",e.appendChild(i),f=document.createElement("div"),f.style.position="relative",f.style.width="74px",f.style.height="30px",f.style.backgroundColor="rgb("+d[1][0]+", "+d[1][1]+", "+d[1][2]+")",e.appendChild(f);while(f.children.length<74)a=document.createElement("span"),a.style.width="1px",a.style.height="30px",a.style.cssFloat="left",a.style.backgroundColor="rgb("+d[0][0]+", "+d[0][1]+", "+d[0][2]+")",f.appendChild(a);o=document.createElement("div"),o.style.textAlign="left",o.style.lineHeight="1.2em",o.style.backgroundColor="rgb("+Math.floor(n[0][0]/2)+", "+Math.floor(n[0][1]/2)+", "+Math.floor(n[0][2]/2)+")",o.style.padding="0 0 3px 3px",o.style.display="none",b.appendChild(o),s=document.createElement("div"),s.style.fontFamily="Helvetica, Arial, sans-serif",s.style.fontSize="9px",s.style.color="rgb("+n[1][0]+", "+n[1][1]+", "+n[1][2]+")",s.style.fontWeight="bold",s.innerHTML="MS",o.appendChild(s),p=document.createElement("div"),p.style.position="relative",p.style.width="74px",p.style.height="30px",p.style.backgroundColor="rgb("+n[1][0]+", "+n[1][1]+", "+n[1][2]+")",o.appendChild(p);while(p.children.length<74)a=document.createElement("span"),a.style.width="1px",a.style.height=""+Math.random()*30+"px",a.style.cssFloat="left",a.style.backgroundColor="rgb("+n[0][0]+", "+n[0][1]+", "+n[0][2]+")",p.appendChild(a);return w=function(a,b){var c;return c=a.appendChild(a.firstChild),c.style.height=""+b+"px"},{getDomElement:function(){return b},getFps:function(){return c},getFpsMin:function(){return h},getFpsMax:function(){return g},getMs:function(){return m},getMsMin:function(){return r},getMsMax:function(){return q},update:function(){t=Date.now(),m=t-u,r=Math.min(r,m),q=Math.max(q,m),s.textContent=""+m+" MS ("+r+"-"+q+")",w(p,Math.min(30,30-m/200*30)),u=t,j++;if(t>v+1e3)return c=Math.round(j*1e3/(t-v)),h=Math.min(h,c),g=Math.max(g,c),i.textContent=""+c+" FPS ("+h+"-"+g+")",w(f,Math.min(30,30-c/100*30)),v=t,j=0}}}});